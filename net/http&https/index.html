<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http&amp;https | 一些零碎</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.84741abc.css" as="style"><link rel="preload" href="/assets/js/app.9047f944.js" as="script"><link rel="preload" href="/assets/js/2.3410de3c.js" as="script"><link rel="preload" href="/assets/js/10.bdbae3fc.js" as="script"><link rel="prefetch" href="/assets/js/11.bd439ed2.js"><link rel="prefetch" href="/assets/js/12.c83ea86a.js"><link rel="prefetch" href="/assets/js/13.f4613efb.js"><link rel="prefetch" href="/assets/js/14.b0c39b9a.js"><link rel="prefetch" href="/assets/js/15.45cb6731.js"><link rel="prefetch" href="/assets/js/16.bfcd93e3.js"><link rel="prefetch" href="/assets/js/17.b66fdd0f.js"><link rel="prefetch" href="/assets/js/18.69202b33.js"><link rel="prefetch" href="/assets/js/19.4a56e1ce.js"><link rel="prefetch" href="/assets/js/20.ec6893db.js"><link rel="prefetch" href="/assets/js/21.afc02202.js"><link rel="prefetch" href="/assets/js/22.36a902ec.js"><link rel="prefetch" href="/assets/js/23.bf30863b.js"><link rel="prefetch" href="/assets/js/24.16c949c5.js"><link rel="prefetch" href="/assets/js/25.3dc1aead.js"><link rel="prefetch" href="/assets/js/26.8cc16656.js"><link rel="prefetch" href="/assets/js/3.5542bbb8.js"><link rel="prefetch" href="/assets/js/4.8338fec5.js"><link rel="prefetch" href="/assets/js/5.ff064d77.js"><link rel="prefetch" href="/assets/js/6.15a0983c.js"><link rel="prefetch" href="/assets/js/7.c91364c1.js"><link rel="prefetch" href="/assets/js/8.af33230f.js"><link rel="prefetch" href="/assets/js/9.11aabaf0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.84741abc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">一些零碎</span></a> <div class="links"><!----> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/promise/" class="sidebar-link">Promise</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/complie/" class="sidebar-link">模板解析</a></li><li><a href="/vue/genRender/" class="sidebar-link">生成render函数</a></li><li><a href="/vue/render/" class="sidebar-link">挂载渲染阶段</a></li><li><a href="/vue/update/" class="sidebar-link">更新阶段</a></li><li><a href="/vue/component/" class="sidebar-link">组件分析</a></li><li><a href="/vue/lifeCycle/" class="sidebar-link">生命周期</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/entry/" class="sidebar-link">入口</a></li><li><a href="/webpack/optimization/" class="sidebar-link">优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>网络相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/net/http&amp;https/" aria-current="page" class="active sidebar-link">HTTP&amp;HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/net/http&amp;https/#_1-http" class="sidebar-link">1. HTTP</a></li><li class="sidebar-sub-header"><a href="/net/http&amp;https/#_2-https" class="sidebar-link">2. HTTPS</a></li><li class="sidebar-sub-header"><a href="/net/http&amp;https/#_3-区别" class="sidebar-link">3. 区别</a></li><li class="sidebar-sub-header"><a href="/net/http&amp;https/#_4-常见的请求头" class="sidebar-link">4. 常见的请求头</a></li><li class="sidebar-sub-header"><a href="/net/http&amp;https/#_5-常见的响应头" class="sidebar-link">5. 常见的响应头</a></li></ul></li><li><a href="/net/https/" class="sidebar-link">HTTPS</a></li><li><a href="/net/udp&amp;tcp/" class="sidebar-link">UDP&amp;TCP</a></li><li><a href="/net/tcp&amp;&amp;ip/" class="sidebar-link">TCP/IP</a></li><li><a href="/net/dns/" class="sidebar-link">DNS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>性能相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/performance/virtualScroll/" class="sidebar-link">虚拟滚动</a></li><li><a href="/performance/cacheApi/" class="sidebar-link">接口缓存</a></li><li><a href="/performance/debounce&amp;throttle/" class="sidebar-link">防抖与节流</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>问题记录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/workRecord/vue/" class="sidebar-link">vue相关</a></li><li><a href="/workRecord/miniprogram/" class="sidebar-link">小程序相关</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-http"><a href="#_1-http" class="header-anchor">#</a> 1. HTTP</h2> <p><code>HTTP</code>: 超文本传输协议 是实现网络通信的一种规范</p> <p><code>HTTP</code>是一个传输协议 即将数据由A传到B或将B传输到A 并且A与B之间能够存放很多第三方 如：A&lt;=&gt;X&lt;=&gt;Y&lt;=&gt;Z&lt;=&gt;B</p> <p>传输的数据并不是计算机底层的二进制包 而是完整的 有意义的数据 如 HTML 图片文件 查询结果等超文本 能够被上层应用识别</p> <p>在实际应用中 <code>HTTP</code> 常被运用于在 <code>Web</code> 浏览器和网站服务器之间传递信息 以明文方式发送内容 不提供任何方式的数据加密</p> <p>特点如下：</p> <ol><li>支持客户端/服务端模式</li> <li>简单快速：客户向服务器端请求服务时 只需传送请求方式和路径 由于<code>HTTP</code>协议简单 使得<code>HTTP</code>服务器的程序规模小 因而通信速度很快</li> <li>灵活：<code>HTTP</code>允许传输任意类型的数据对象 正在传输的类型由<code>Content-Type</code>加以标记</li> <li>无连接：无连接的含义是限制每次连接只处理一个请求 服务器处理完客户的请求 并收到客户应答后 即断开连接 采用这种方式可以节省传输时间</li> <li>无状态：<code>HTTP</code>协议无法根据之前的状态进行本次请求处理</li></ol> <h2 id="_2-https"><a href="#_2-https" class="header-anchor">#</a> 2. HTTPS</h2> <p>因为 <code>http</code> 是以明文的方式发送内容 并不安全 为了解决这个不安全问题 出现了 <code>https</code></p> <p><code>https</code> 即让 <code>http</code> 运行在安全的 <code>SSL/TLS</code> 协议上 即 <code>HTTPS = HTTP + SSL/TLS</code></p> <p><code>SSL</code> 协议位于 <code>TCP/IP</code> 协议和各种应用层协议之间 浏览器和服务器在使用 <code>SSL</code> 建立连接时需要选择一组恰当的加密算法来实现安全通信 为数据通讯提供安全支持</p> <p>建立 <code>https</code> 连接的过程</p> <ol><li>首先客户端通过URL访问服务器建立SSL连接</li> <li>服务端收到客户端请求后 会将网站支持的证书信息（证书中包含公钥）传送一份给客户端</li> <li>客户端和服务器开始协商SSL连接的安全等级 也就是信息加密的等级</li> <li>客户端的浏览器根据双方同意的安全等级 建立会话密钥 然后利用网站的公钥将会话密钥加密 并传送给网站</li> <li>服务器利用自己的私钥解密出会话密钥</li> <li>服务器利用会话密钥加密与客户端之间的通信</li></ol> <blockquote><h3 id="如何协商"><a href="#如何协商" class="header-anchor">#</a> 如何协商？</h3> <ol><li>客户端发起SSL Handshake(握手)请求</li></ol> <ul><li>客户端发送一个ClientHello消息给服务器 该消息中包含了客户端支持的SSL版本号、加密算法列表等信息</li></ul> <ol start="2"><li>服务器端返回可支持的加密方法</li></ol> <ul><li>服务器端从客户端提供的信息中选择双方都支持的加密方法 并返回一个ServerHello消息 确认使用的协议版本 随机数 会话ID和加密方法</li></ul> <ol start="3"><li>服务器发送证书</li></ol> <ul><li>服务器将向客户端发送其数字证书 以便客户端验证服务器的身份 数字证书中包含了服务器的公钥</li></ul> <ol start="4"><li>客户端验证证书并生成pre-master key</li></ol> <ul><li>客户端会验证证书的有效性 同时利用服务器的公钥生成pre-master key</li></ul> <ol start="5"><li>客户端将pre-master key加密后发送给服务器</li></ol> <ul><li>客户端使用服务器的公钥将pre-master key 加密 然后发送给服务器</li></ul> <ol start="6"><li>服务器解密pre-master key</li></ol> <ul><li>服务器使用私钥解密得到pre-master key</li></ul> <ol start="7"><li>双方使用pre-master key生成会话密钥</li></ol> <ul><li>客户端和服务器端都可以通过pre-master key和一致的算法生成对称的会话密钥 后续通信将使用该会话密钥和确认的加密方法进行加密通信</li></ul></blockquote> <h2 id="_3-区别"><a href="#_3-区别" class="header-anchor">#</a> 3. 区别</h2> <table><thead><tr><th style="text-align:center;">不同点</th> <th style="text-align:center;">HTTP</th> <th style="text-align:center;">HTTPS</th></tr></thead> <tbody><tr><td style="text-align:center;">安全</td> <td style="text-align:center;">明文数据传输</td> <td style="text-align:center;">使用了SSL/TLS协议进行了加密处理 相对更安全</td></tr> <tr><td style="text-align:center;">端口</td> <td style="text-align:center;">80</td> <td style="text-align:center;">443</td></tr> <tr><td style="text-align:center;">性能</td> <td style="text-align:center;">更高</td> <td style="text-align:center;">协商加密多次握手不如http</td></tr> <tr><td style="text-align:center;">花费</td> <td style="text-align:center;">小</td> <td style="text-align:center;">需要证书 功能越强大证书费用越高</td></tr> <tr><td style="text-align:center;">缓存</td> <td style="text-align:center;">更好</td> <td style="text-align:center;">不如 http</td></tr></tbody></table> <h2 id="_4-常见的请求头"><a href="#_4-常见的请求头" class="header-anchor">#</a> 4. 常见的请求头</h2> <h4 id="_1-通用信息-general"><a href="#_1-通用信息-general" class="header-anchor">#</a> 1. 通用信息 General</h4> <table><thead><tr><th style="text-align:center;">键</th> <th style="text-align:center;">作用</th> <th style="text-align:center;">参数</th></tr></thead> <tbody><tr><td style="text-align:center;">Request URL</td> <td style="text-align:center;">请求url地址</td> <td style="text-align:center;">http://localhost:8088/api/login</td></tr> <tr><td style="text-align:center;">Request Method</td> <td style="text-align:center;">请求方法</td> <td style="text-align:center;">POST</td></tr> <tr><td style="text-align:center;">Status Code</td> <td style="text-align:center;">状态码</td> <td style="text-align:center;">200</td></tr> <tr><td style="text-align:center;">Remote Address</td> <td style="text-align:center;">请求的源地址</td> <td style="text-align:center;">127.0.0.1:8088</td></tr> <tr><td style="text-align:center;">Referrer Policy</td> <td style="text-align:center;">用来监管哪些访问来源信息——会在 Referer 中发送——应该被包含在生成的请求当中</td> <td style="text-align:center;">strict-origin-when-cross-origin</td></tr></tbody></table> <h4 id="_2-请求头"><a href="#_2-请求头" class="header-anchor">#</a> 2. 请求头</h4> <table><thead><tr><th style="text-align:center;">请求头</th> <th style="text-align:center;">作用</th> <th style="text-align:center;">参数</th></tr></thead> <tbody><tr><td style="text-align:center;">Accept</td> <td style="text-align:center;">指定客户端能够接收的内容类型，内容类型中的先后次序表示客户端接收的先后次序</td> <td style="text-align:center;">application/json, text/plain, <code>*/*</code></td></tr> <tr><td style="text-align:center;">Accept-Encoding</td> <td style="text-align:center;">指定客户端浏览器可以支持的web服务器返回内容压缩编码类型</td> <td style="text-align:center;">gzip, deflate, br</td></tr> <tr><td style="text-align:center;">Accept-Language</td> <td style="text-align:center;">指定HTTP客户端浏览器用来展示返回信息所优先选择的语言</td> <td style="text-align:center;">zh-CN,zh;q=0.9</td></tr> <tr><td style="text-align:center;">Connection</td> <td style="text-align:center;">表示是否需要持久连接</td> <td style="text-align:center;">keep-alive 长连接</td></tr> <tr><td style="text-align:center;">Connec-Length</td> <td style="text-align:center;">请求头的长度</td> <td style="text-align:center;">86</td></tr> <tr><td style="text-align:center;">Connect-Typ</td> <td style="text-align:center;">显示此HTTP请求提交的内容类型 一般只有post提交时才需要设置该属性</td> <td style="text-align:center;">application/json;charset=UTF-8</td></tr> <tr><td style="text-align:center;">cookie</td> <td style="text-align:center;">浏览器端cookie</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">Host</td> <td style="text-align:center;">客户端地址</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">Origin</td> <td style="text-align:center;">目标地址</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">Referer</td> <td style="text-align:center;">包含一个URL，用户从该URL代表的页面出发访问当前请求的页面</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">User-Agent</td> <td style="text-align:center;">客户端信息</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">x－Requested-With</td> <td style="text-align:center;">是否为同步请求 ，如果为XMLHttpRequest，则为 Ajax 异步请求。如果为null则为传统同步请求</td> <td style="text-align:center;"></td></tr></tbody></table> <h2 id="_5-常见的响应头"><a href="#_5-常见的响应头" class="header-anchor">#</a> 5. 常见的响应头</h2> <table><thead><tr><th style="text-align:center;">响应头</th> <th style="text-align:center;">作用</th> <th style="text-align:center;">参数</th></tr></thead> <tbody><tr><td style="text-align:center;">Accept-Ranges</td> <td style="text-align:center;">表明服务器是否支持指定范围请求及哪种类型的分段请求</td> <td style="text-align:center;">Accept-Ranges: bytes</td></tr> <tr><td style="text-align:center;">Age</td> <td style="text-align:center;">从原始服务器到代理缓存形成的估算时间（以秒计，非负）</td> <td style="text-align:center;">Age: 12</td></tr> <tr><td style="text-align:center;">Allow</td> <td style="text-align:center;">对某网络资源的有效的请求行为，不允许则返回405</td> <td style="text-align:center;">Allow: GET, HEAD</td></tr> <tr><td style="text-align:center;">Cache-Control</td> <td style="text-align:center;">告诉所有的缓存机制是否可以缓存及哪种类型</td> <td style="text-align:center;">Cache-Control: no-cache</td></tr> <tr><td style="text-align:center;">Content-Encoding</td> <td style="text-align:center;">web服务器支持的返回内容压缩编码类型</td> <td style="text-align:center;">Content-Encoding: gzip</td></tr> <tr><td style="text-align:center;">Content-Language</td> <td style="text-align:center;">响应体的语言</td> <td style="text-align:center;">Content-Language: en,zh</td></tr> <tr><td style="text-align:center;">Content-Length</td> <td style="text-align:center;">响应体的长度</td> <td style="text-align:center;">Content-Length: 348</td></tr> <tr><td style="text-align:center;">Content-Location</td> <td style="text-align:center;">请求资源可替代的备用的另一地址</td> <td style="text-align:center;">Content-Location: /index.htm</td></tr> <tr><td style="text-align:center;">Content-MD5</td> <td style="text-align:center;">返回资源的MD5校验值</td> <td style="text-align:center;">Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==</td></tr> <tr><td style="text-align:center;">Content-Range</td> <td style="text-align:center;">在整个返回体中本部分的字节位置</td> <td style="text-align:center;">Content-Range: bytes 21010-47021/47022</td></tr> <tr><td style="text-align:center;">Content-Type</td> <td style="text-align:center;">返回内容的MIME类型</td> <td style="text-align:center;">Content-Type: text/html; charset=utf-8</td></tr> <tr><td style="text-align:center;">Date</td> <td style="text-align:center;">原始服务器消息发出的时间</td> <td style="text-align:center;">Date: Tue, 15 Nov 2010 08:12:31 GMT</td></tr> <tr><td style="text-align:center;">ETag</td> <td style="text-align:center;">请求变量的实体标签的当前值</td> <td style="text-align:center;">ETag: &quot;737060cd8c284d8af7ad3082f209582d&quot;</td></tr> <tr><td style="text-align:center;">Expires</td> <td style="text-align:center;">响应过期的日期和时间</td> <td style="text-align:center;">Expires: Thu, 01 Dec 2010 16:00:00 GMT</td></tr> <tr><td style="text-align:center;">Last-Modified</td> <td style="text-align:center;">请求资源的最后修改时间</td> <td style="text-align:center;">Last-Modified: Tue, 15 Nov 2010 12:45:26 GMT</td></tr> <tr><td style="text-align:center;">Location</td> <td style="text-align:center;">用来重定向接收方到非请求URL的位置来完成请求或标识新的资源</td> <td style="text-align:center;">Location: http://www.zcmhi.com/archives/94.html</td></tr> <tr><td style="text-align:center;">Pragma</td> <td style="text-align:center;">包括实现特定的指令，它可应用到响应链上的任何接收方</td> <td style="text-align:center;">Pragma: no-cache</td></tr> <tr><td style="text-align:center;">Proxy-Authenticate</td> <td style="text-align:center;">它指出认证方案和可应用到代理的该URL上的参数</td> <td style="text-align:center;">Proxy-Authenticate: Basic</td></tr> <tr><td style="text-align:center;">refresh</td> <td style="text-align:center;">应用于重定向或一个新的资源被创造，在5秒之后重定向（由网景提出，被大部分浏览器支持）</td> <td style="text-align:center;">Refresh: 5; url=</td></tr> <tr><td style="text-align:center;">Retry-After</td> <td style="text-align:center;">如果实体暂时不可取，通知客户端在指定时间之后再次尝试</td> <td style="text-align:center;">Retry-After: 120</td></tr> <tr><td style="text-align:center;">Server</td> <td style="text-align:center;">web服务器软件名称</td> <td style="text-align:center;">Server: Apache/1.3.27 (Unix) (Red-Hat/Linux)</td></tr> <tr><td style="text-align:center;">Set-Cookie</td> <td style="text-align:center;">设置Http Cookie</td> <td style="text-align:center;">Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1</td></tr> <tr><td style="text-align:center;">Trailer</td> <td style="text-align:center;">指出头域在分块传输编码的尾部存在</td> <td style="text-align:center;">Trailer: Max-Forwards</td></tr> <tr><td style="text-align:center;">Transfer-Encoding</td> <td style="text-align:center;">文件传输编码</td> <td style="text-align:center;">Transfer-Encoding:chunked Vary</td></tr> <tr><td style="text-align:center;">Via</td> <td style="text-align:center;">告知代理客户端响应是通过哪里发送的</td> <td style="text-align:center;">Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)</td></tr> <tr><td style="text-align:center;">Warning</td> <td style="text-align:center;">警告实体可能存在的问题</td> <td style="text-align:center;">Warning: 199 Miscellaneous warning</td></tr> <tr><td style="text-align:center;">WWW-Authenticate</td> <td style="text-align:center;">表明客户端请求实体应该使用的授权方案</td> <td style="text-align:center;">WWW-Authenticate: Basic</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/webpack/optimization/" class="prev">
        优化
      </a></span> <span class="next"><a href="/net/https/">
        HTTPS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9047f944.js" defer></script><script src="/assets/js/2.3410de3c.js" defer></script><script src="/assets/js/10.bdbae3fc.js" defer></script>
  </body>
</html>
